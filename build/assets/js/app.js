!function(){"use strict";function n(n,o){FastClick.attach(document.body),n.$on("$stateChangeError",function(n,t,i,a,u,e){"AUTH_REQUIRED"===e&&o.go("home")})}angular.module("application",["ui.router","ngAnimate","foundation","foundation.dynamicRouting","foundation.dynamicRouting.animations","firebase"]).run(n),n.$inject=["$rootScope","$state"]}();
!function(){"use strict";function t(t,r,e){t.otherwise("/"),r.html5Mode({enabled:!1,requireBase:!1}),r.hashPrefix("!"),e.state("home",{url:"/",templateUrl:"templates/home.html",controller:"HomeCtrl",controllerAs:"vm"}).state("mission",{url:"/mission",templateUrl:"templates/mission.html"}).state("donate",{url:"/donate",templateUrl:"templates/donate.html",controller:"DonateCtrl",controllerAs:"vm"}).state("programs",{url:"/programs",templateUrl:"templates/programs.html"}).state("login",{url:"/login",templateUrl:"templates/login.html",controller:"LoginCtrl",controllerAs:"vm"}).state("participants",{url:"/participants",templateUrl:"templates/participants.html",controller:"ParticipantsCtrl",controllerAs:"vm"}).state("participant",{url:"/participant/:id",templateUrl:"templates/participant.html",controller:"ParticipantCtrl",controllerAs:"vm"}).state("thankYou",{url:"/thankyou?id&amount",templateUrl:"templates/thankYou.html",controller:"ThankYouCtrl",controllerAs:"vm"}).state("participantEdit",{url:"/participantEdit/:id",templateUrl:"templates/participantEdit.html",controller:"ParticipantEditCtrl",controllerAs:"vm",resolve:{currentAuth:["Auth",function(t){return t.$requireAuth()}]}}).state("admin",{url:"/admin",templateUrl:"templates/admin.html",controller:"AdminCtrl",controllerAs:"vm",resolve:{currentAuth:["Auth",function(t){return t.$requireAuth()}]}}).state("about",{url:"/about",templateUrl:"templates/about.html"})}angular.module("application").config(t),t.$inject=["$urlRouterProvider","$locationProvider","$stateProvider"]}();
!function(){"use strict";var a="https://pamoja.firebaseio.com/";angular.module("application").constant("FBREF",a)}();
!function(){"use strict";function i(i,t){var n=this,a=new Firebase(i),r=t(a.child("participants").orderByChild("isActive").equalTo(!0));r.$loaded().then(function(i){n.participants=_.sortBy(i,function(i){return console.log("participant",i),-1*i.moneyRaised})})}angular.module("application").controller("ParticipantsCtrl",i),i.$inject=["FBREF","$firebaseArray"]}();
!function(){"use strict";function t(t,n,i,o){function a(t){c.participant=t.data}function e(t){console.log(t)}var c=this;new Firebase(n);t.get(n+"/participants/"+i.id+"/.json").then(a,e),c.goToPaypal=function(){o.publish("main-notifications",{title:"Redirecting",content:"You will be taken to paypal to complete the donation.",autoclose:"3000"})}}angular.module("application").controller("ParticipantCtrl",t),t.$inject=["$http","FBREF","$stateParams","FoundationApi"]}();
!function(){"use strict";function t(t,i,a,n,c){function p(t){r.participant=t.data}function e(t){console.log(t)}function o(){c.publish("main-notifications",{title:"Saved Successfully",content:"Participant: "+r.participant.fName+" "+r.participant.lName,autoclose:"3000",color:"success"})}var r=this,s=new Firebase(t);i.get(t+"/participants/"+a.id+"/.json").then(p,e),r.saveParticipant=function(){r.participant.moneyRaised=parseInt(r.participant.moneyRaised),r.participant.goal=parseInt(r.participant.goal),s.child("participants").child(r.participant.uid).set(r.participant,o)}}angular.module("application").controller("ParticipantEditCtrl",t),t.$inject=["FBREF","$http","$stateParams","$firebaseObject","FoundationApi"]}();
!function(){"use strict";function t(){$(".animation-text").typed({strings:["WE WILL GROW.","WE HAVE HOPE.","WE CAN LEAD.","WE ARE TOGETHER.","PAMOJA"],startDelay:500,backDelay:500,showCursor:!0,cursorChar:" |",typeSpeed:100,callback:e})}function e(){$(".white-text").slideUp(500,function(){$("#homeDonateButton").slideDown(500)})}angular.module("application").controller("HomeCtrl",t)}();
!function(){"use strict";function t(t,n,a,i){function o(){i.publish("main-notifications",{title:"Successfully Updated",content:"The total is now at $"+e.totalDonations[2016],autoclose:"3000",color:"success"})}function c(t){i.publish("basicModal","close")}var e=this,s=new Firebase(t);n.get(t+"participants.json").then(function(t){e.participants=t.data},function(t){console.log(t)}),n.get(t+"totalDonations.json").then(function(t){e.totalDonations=t.data},function(t){console.log("err",t)}),e.saveNewParticipant=function(){e.newParticipant.dateAdded=Date.now(),e.newParticipant.moneyRaised=0,e.newParticipant.goal=parseInt(e.newParticipant.goal);var t=s.child("participants").push(e.newParticipant,c(s));s.child("participants").child(t.key()).child("uid").set(t.key(),function(){e.newParticipant={}})},e.saveTotalDonations=function(){s.child("totalDonations").set(e.totalDonations,o())}}angular.module("application").controller("AdminCtrl",t),t.$inject=["FBREF","$http","$stateParams","FoundationApi"]}();
!function(){"use strict";function t(t,o,n){var i=this,a=new Firebase(o);i.donations=n(a.child("totalDonations")),i.goToPaypal=function(){t.publish("main-notifications",{title:"Redirecting",content:"You will be taken to paypal to complete the donation.",autoclose:"3000"})}}angular.module("application").controller("DonateCtrl",t),t.$inject=["FoundationApi","FBREF","$firebaseObject"]}();
!function(){"use strict";function o(o,t,i,e,n,l,s){var u=this,a=new Firebase(o);u.auth=a.getAuth();var c=e(a.child("users"));u.logOut=function(){a.unauth(),n.publish("main-notifications",{title:"Logged out",color:"warning",autoclose:"1000",position:"top-left"}),s(function(){l.go("home")},1e3)},a.authWithOAuthPopup("google",function(o,t){o?console.log("Login Failed!",o):(u.auth=!0,_.find(c,"uid",t.uid)?n.publish("main-notifications",{title:"Welcome Back",content:t.google.displayName,color:"success",autoclose:"3000"}):a.child("users").child(t.uid).set(t,function(o){o?consol.log(o):n.publish("main-notifications",{title:"successfully added",content:t.google.displayName,color:"success",autoclose:"3000"})}))})}angular.module("application").controller("LoginCtrl",o),o.$inject=["FBREF","$http","$stateParams","$firebaseArray","FoundationApi","$state","$timeout"]}();
!function(){"use strict";function t(t,n,i,o){var a=this;a.amount=i.amount;new Firebase(t);n.get(t+"participants/"+i.id+".json").then(function(t){a.participant=t.data,o.publish("main-notifications",{title:"Success!",autoclose:"3000",color:"success"})},function(t){console.log(t)})}angular.module("application").controller("ThankYouCtrl",t),t.$inject=["FBREF","$http","$stateParams","FoundationApi"]}();
!function(){"use strict";function t(t,e){var n=new Firebase(t);return e(n)}angular.module("application").factory("Auth",t),t.$inject=["FBREF","$firebaseAuth"]}();